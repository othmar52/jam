(function(t){function e(e){for(var a,n,o=e[0],c=e[1],l=e[2],u=0,d=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&d.push(i[n][0]),i[n]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);h&&h(e);while(d.length)d.shift()();return r.push.apply(r,l||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],a=!0,n=1;n<s.length;n++){var o=s[n];0!==i[o]&&(a=!1)}a&&(r.splice(e--,1),t=c(c.s=s[0]))}return t}var a={},n={app:0},i={app:0},r=[];function o(t){return c.p+"data/stemplayer/js/"+({about:"about",dbmeterhint:"dbmeterhint"}[t]||t)+"."+{about:"7e832e6f",dbmeterhint:"b7688793"}[t]+".js"}function c(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,c),s.l=!0,s.exports}c.e=function(t){var e=[],s={dbmeterhint:1};n[t]?e.push(n[t]):0!==n[t]&&s[t]&&e.push(n[t]=new Promise((function(e,s){for(var a="data/stemplayer/css/"+({about:"about",dbmeterhint:"dbmeterhint"}[t]||t)+"."+{about:"31d6cfe0",dbmeterhint:"502c13e5"}[t]+".css",i=c.p+a,r=document.getElementsByTagName("link"),o=0;o<r.length;o++){var l=r[o],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===a||u===i))return e()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){l=d[o],u=l.getAttribute("data-href");if(u===a||u===i)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var a=e&&e.target&&e.target.src||i,r=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=a,delete n[t],h.parentNode.removeChild(h),s(r)},h.href=i;var m=document.getElementsByTagName("head")[0];m.appendChild(h)})).then((function(){n[t]=0})));var a=i[t];if(0!==a)if(a)e.push(a[2]);else{var r=new Promise((function(e,s){a=i[t]=[e,s]}));e.push(a[2]=r);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=o(t);var d=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(h);var s=i[t];if(0!==s){if(s){var a=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+a+": "+n+")",d.name="ChunkLoadError",d.type=a,d.request=n,s[1](d)}i[t]=void 0}};var h=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=a,c.d=function(t,e,s){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(c.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(s,a,function(e){return t[e]}.bind(null,a));return s},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var h=u;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"04fb":function(t,e,s){},"17ba":function(t,e,s){"use strict";var a=s("e1f2"),n=s.n(a);n.a},"2a27":function(t,e,s){"use strict";var a=s("9d37"),n=s.n(a);n.a},"2bcf":function(t,e,s){"use strict";var a=s("8130"),n=s.n(a);n.a},4850:function(t,e,s){},"49a4":function(t,e,s){"use strict";var a=s("82ee"),n=s.n(a);n.a},"49f1":function(t,e,s){},"4f5d":function(t,e,s){"use strict";var a=s("4850"),n=s.n(a);n.a},"56d7":function(t,e,s){"use strict";s.r(e);s("c975"),s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page",attrs:{id:"app"}},[s("nav",{staticClass:"page__navigation menu"},[s("ul",{staticClass:"menu__list"},[s("li",{staticClass:"menu__item"},[s("SearchField",{attrs:{"min-input":1}})],1),s("li",{staticClass:"menu__item"},[s("router-link",{staticClass:"menu__link",attrs:{to:"/"}},[t._v("Dashboard")])],1),s("li",{staticClass:"menu__item"},[s("router-link",{staticClass:"menu__link",attrs:{to:t.getNextRandomTrackRoute},nativeOn:{click:function(e){return t.forcePlay(e)}}},[t._v("Random")])],1),s("li",{staticClass:"menu__item"},[s("router-link",{staticClass:"menu__link",attrs:{to:"/sessions"}},[t._v("Sessions")])],1),s("li",{staticClass:"menu__item"},[s("router-link",{staticClass:"menu__link",attrs:{to:"/about"}},[t._v("About")])],1),s("li",{staticClass:"menu__item"},[s("router-link",{staticClass:"menu__link",attrs:{to:"/pics"}},[t._v("Pics")])],1),t.stats.showDbMeterHint?s("li",{staticClass:"menu__item"},[s("router-link",{staticClass:"menu__link",attrs:{to:"/dbmeterhint"}},[s("strong",[t._v("README")])])],1):t._e(),s("li",{staticClass:"menu__item menu__item--logo"},[s("router-link",{staticClass:"menu__link logo",attrs:{to:"/"}},[s("span",{staticClass:"logo__icon"},[s("svg",{staticStyle:{position:"relative",top:"-9px",left:"-9px"},attrs:{width:"40",height:"40",xmlns:"http://www.w3.org/2000/svg"}},[s("g",{attrs:{transform:"translate(-9.000000,17.000000) scale(0.032,-0.032)",stroke:"none"}},[s("path",{staticClass:"path__logo",staticStyle:{stroke:"none"},attrs:{fill:"#60d4ff",d:"m898 408 l32 -5 0 -125 c0 -115 -1 -125 -17 -118 -35 14 -140 17 -176 6 -51 -17 -122 -84 -141 -133 -22 -54 -13 -109 25 -153 41 -46 76 -58 158 -53 82 4 135 35 186 107 l30 43 5 198 5 198 74 -49 c79 -52 179 -89 241 -89 46 0 59 -24 36 -68 -18 -34 -76 -87 -105 -97 -18 -5 -21 -14 -21 -69 0 -163 -92 -306 -243 -377 -119 -55 -240 -58 -370 -9 -75 28 -173 118 -215 197 -128 240 13 529 291 599 49 12 125 11 205 -3z"}})])])]),s("span",{staticClass:"logo__bandname view__highlight"},[t._v("Stromwerk")]),t._v(" "),s("span",{staticClass:"logo__label"},[t._v("jam")])])],1)])]),s("main",{staticClass:"content"},[s("router-view")],1),s("PermaPlayer")],1)},i=[],r=s("5530"),o=s("2f62"),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:t.hiddenClass,attrs:{id:"permaplayer"}},[t.currentTrack?s("div",[s("div",{staticClass:"permaplayer__section-play"},[s("button",{staticClass:"track__play play",on:{click:t.togglePlayPause}},[s("SvgPlayPause",{attrs:{usePath:t.playOrPauseInverted}})],1)]),s("div",{staticClass:"permaplayer__section-main"},[t._v(" "+t._s(t.currentTrack.track.trackLetter)+" "),s("router-link",{attrs:{to:{name:"TrackShow",params:{sessionIndex:t.currentTrack.track.session,trackIndex:t.currentTrack.track.trackLetter}}}},[t._v(t._s(t.currentTrack.track.title))]),t._v(" - "),s("router-link",{attrs:{to:{name:"SessionShow",params:{sessionIndex:t.currentTrack.track.session}}}},[t._v("Session #"+t._s(t.formatSessionNumber(t.currentTrack.track.session)))]),s("MusiciansBadges",{attrs:{track:t.currentTrack.track}}),s("span",[t._v(t._s(t.currentTrack.track.bpm)+" BPM")]),s("div",{staticClass:"player__control-seek"},[s("div",{ref:"progress",staticClass:"seek__progress",style:t.currentProgressPercent}),s("div",{ref:"seek",staticClass:"seek__clickarea",on:{click:t.triggerSeekRequest}})]),t._l(t.stems,(function(e,a){return s("AudioNode",{key:""+t.currentTrack.track.session+t.currentTrack.track.trackLetter+a,ref:"s"+a,refInFor:!0,attrs:{source:e.filePath,stemIndex:a,playOrPause:t.playOrPause}})}))],2),s("div",{staticClass:"permaplayer__section-right"},[t._v(" "+t._s(t.currentProgressSecond)+" / "+t._s(t.durationSecond)+" ")]),t.resyncText?s("div",{staticClass:"sync__hint",domProps:{innerHTML:t._s(t.resyncText)}}):t._e()]):s("div",[t._v(" no track in permaplayer. TODO: random button ")])])},l=[],u=(s("a15b"),s("b0c0"),s("ac1f"),s("466d"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{attrs:{width:"100%",height:"100%",viewBox:"0 0 36 36"}},[s("defs",[s("path",{attrs:{id:"pause-icon","data-state":"playing",d:"M11,10 L17,10 17,26 11,26 M20,10 L26,10 26,26 20,26"}}),s("path",{attrs:{id:"play-icon","data-state":"paused",d:"M11,10 L18,13.74 18,22.28 11,26 M18,13.74 L26,18 26,18 18,22.28"}})]),s("use",{attrs:{"xlink:href":"#"+t.usePath+"-icon"}})])}),d=[],h={name:"SvgPlayPause",props:{usePath:String},watch:{usePath:function(){}}},m=h,f=s("2877"),p=Object(f["a"])(m,u,d,!1,null,null,null),_=p.exports,g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"audio__node"},[0===t.stemIndex?s("audio",{ref:"audio",on:{durationchange:t.onDurationChangeListener,timeupdate:t.onTimeUpdateListener,ended:t.onEndedListener}},[s("source",{attrs:{type:"audio/mpeg",src:t.source}})]):s("audio",{ref:"audio"},[s("source",{attrs:{type:"audio/mpeg",src:t.source}})])])},v=[],k=(s("a9e3"),{data:function(){return{dbRange:48,channelCount:1,maskSizes:[100,100],lastCommittedMaskSizes:[0,0]}},methods:{initMeter:function(t){if("undefined"!==typeof window.audioCtx){t.crossOrigin="anonymous";var e=window.audioCtx.createMediaElementSource(t);e.connect(window.audioCtx.destination);var s=this.createMeterNode(e,window.audioCtx);this.createMeter(s)}},updateMeter:function(t){var e,s=t.inputBuffer,a=[],n=[];for(e=0;e<this.channelCount;e++)a[e]=s.getChannelData(e),n[e]=0;for(var i=0;i<s.length;i++)for(e=0;e<this.channelCount;e++)Math.abs(a[e][i])>n[e]&&(n[e]=Math.abs(a[e][i]));for(e=0;e<this.channelCount;e++)this.maskSizes[e]=this.maskSize(n[e]);this.fireDbMeterEvent()},createMeterNode:function(t,e){var s=e.createScriptProcessor(2048,t.channelCount,t.channelCount);return t.connect(s),s.connect(e.destination),s},createMeter:function(t){this.channelCount=t.channelCount,t.onaudioprocess=this.updateMeter.bind(this)},maskSize:function(t){var e=100;if(0===t)return e;var s=-1*this.dbRange,a=Math.floor(this.dbFromFloat(t)*e/s);return a>e?e:a},fireDbMeterEvent:function(){this.maskSizes[0]===this.lastCommittedMaskSizes[0]&&this.maskSizes[1]===this.lastCommittedMaskSizes[1]||(document.querySelector("#permaplayer").dispatchEvent(new CustomEvent("dbmeter".concat(this.stemIndex),{bubbles:!0,detail:this.maskSizes})),this.lastCommittedMaskSizes=[this.maskSizes[0],this.maskSizes[1]])},getBaseLog:function(t,e){return Math.log(e)/Math.log(t)},dbFromFloat:function(t){return 20*this.getBaseLog(10,t)}}}),y={name:"AudioNode",mixins:[k],props:{source:String,stemIndex:Number,playOrPause:String},computed:Object(r["a"])({},Object(o["b"])(["getStemStateByIndex"]),{volValue:function(){return this.getStemStateByIndex(this.stemIndex).volLevel},mutedAudio:function(){return this.getStemStateByIndex(this.stemIndex).isMutedAudio}}),methods:{play:function(){this.$refs.audio.play()},pause:function(){this.$refs.audio.pause()},seekTo:function(t){this.$refs.audio.currentTime=t},onDurationChangeListener:function(t){this.$store.commit("playerDurationUpdate",t.target.duration)},onTimeUpdateListener:function(t){this.$store.commit("playerTimeUpdate",t.target.currentTime)},onEndedListener:function(){this.$store.commit("playerTrackEnded")},getCurrentTime:function(){return this.$refs.audio.currentTime},setVolume:function(t){this.$refs.audio.volume=t}},watch:{playOrPause:function(t){this[t]()},volValue:function(t){this.$refs.audio.volume=t},mutedAudio:function(t){this.$refs.audio.muted=t}},mounted:function(){this[this.playOrPause](),this.setVolume(this.getStemStateByIndex(this.stemIndex).volLevel),this.initMeter(this.$refs.audio)}},S=y,C=(s("4f5d"),Object(f["a"])(S,g,v,!1,null,null,null)),b=C.exports,x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"musician__badges"},t._l(t.processed,(function(e,a){return s("span",{key:""+a+e.title+e.color,class:"stem__title stem__title--"+e.color},[s("span",{staticClass:"dot"}),t._v(" "+t._s(e.title))])})),0)},w=[],P=(s("99af"),s("4fad"),s("b85c")),I={name:"MusiciansBadges",props:{track:Object,session:Object},data:function(){return{processed:[]}},created:function(){this.prepareMusiciansArray()},methods:{prepareMusiciansArray:function(){this.processed=[],"undefined"===typeof this.session?"undefined"!==typeof this.track&&"undefined"!==typeof this.track.stems&&this.fromTrack():this.fromSession()},fromTrack:function(){var t,e=Object(P["a"])(this.track.stems);try{for(e.s();!(t=e.n()).done;){var s=t.value;this.processed.push({title:s.title,color:s.color})}}catch(a){e.e(a)}finally{e.f()}},fromSession:function(){for(var t={},e=0,s=Object.entries(this.session.tracks);e<s.length;e++){var a,n=s[e],i=Object(P["a"])(n[1].stems);try{for(i.s();!(a=i.n()).done;){var r=a.value;t["".concat(r.color,"-").concat(r.title)]={title:r.title,color:r.color}}}catch(u){i.e(u)}finally{i.f()}}for(var o=0,c=Object.entries(t);o<c.length;o++){var l=c[o];this.processed.push(l[1])}}},watch:{track:function(){this.prepareMusiciansArray()}}},T=I,M=(s("49a4"),Object(f["a"])(T,x,w,!1,null,null,null)),O=M.exports,E=(s("5319"),{methods:{formatTime:function(t){var e=new Date(1e3*t).toISOString().substr(11,8);return 0===e.indexOf("00:")?e.substr(3):e},toMinutes:function(t){return parseInt(t/60)},toHours:function(t){return parseInt(t/60/60)},formatSessionNumber:function(t){return t?t.replace("session","").replace(/^0+/,""):""},regExpEscape:function(t){return t.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")}}}),L={name:"PermaPlayer",components:{SvgPlayPause:_,AudioNode:b,MusiciansBadges:O},mixins:[E],data:function(){return{playOrPause:"pause",resyncText:""}},computed:Object(r["a"])({},Object(o["b"])(["getCurrentTrack","getCurrentProgressPercent","getCurrentProgressSecond","getDurationSecond","getRequestSeek","getIsPlaying"]),{currentTrack:function(){return this.getCurrentTrack},stems:function(){return this.getCurrentTrack.track.stems},currentProgressPercent:function(){return"width: ".concat(this.getCurrentProgressPercent,"%")},currentProgressSecond:function(){return this.formatTime(this.getCurrentProgressSecond)},durationSecond:function(){return this.formatTime(this.getDurationSecond)},requestSeek:function(){return this.$store.getters.getRequestSeek},isPlaying:function(){return this.$store.getters.getIsPlaying},playOrPauseInverted:function(){return"play"===this.playOrPause?"pause":"play"},hiddenClass:function(){var t=!0===this.currentRouteIsPermaPlayersAudio()?"hidden":this.currentTrack.track.stems?"":"hidden";return document.body.classList["hidden"===t?"remove":"add"]("has__permaplayer"),t}}),watch:{currentTrack:function(){},stems:function(){},currentProgressPercent:function(){},currentProgressSecond:function(){},durationSecond:function(){},playOrPause:function(){},playOrPauseInverted:function(){},isPlaying:function(t){this.playOrPause=t?"play":"pause",!0===t&&this.forcePlay()},requestSeek:function(t){if(t>0){for(var e in this.currentTrack.stemStates)this.$refs[e][0].seekTo(t);this.$store.commit("requestSeekFinished")}}},methods:{togglePlayPause:function(){window.audioCtx&&window.audioCtx.resume();var t="pause";!1===this.currentTrack.playing&&(t="play"),this.playOrPause=t,this.$store.dispatch("togglePermaPlayingState")},forcePlay:function(){window.audioCtx&&window.audioCtx.resume(),this.playOrPause="play"},triggerSeekRequest:function(t){var e=this.$refs.seek.getBoundingClientRect(),s=t.clientX-e.left,a=t.target.offsetWidth,n=s/(a/100);this.$store.commit("requestSeek",n)},invertPlayPause:function(t){return"play"===t?"pause":"play"},currentRouteIsPermaPlayersAudio:function(){return"TrackShow"===this.$route.name&&(this.$route.params.sessionIndex===this.currentTrack.track.session&&this.$route.params.trackIndex===this.currentTrack.track.trackLetter)},resyncAudioNodes:function(t){if(t.isPlaying){this.resyncText="";var e=!1,s=[];for(var a in t.currentTrack.stemStates)if(!1!==e){var n=Math.abs(e-t.$refs[a][0].getCurrentTime());n<.1||(t.$refs[a][0].seekTo(e),s.push('<span class="dark__text">#</span>'.concat(parseInt(a.match(/\d+/g))+1)))}else e=t.$refs[a][0].getCurrentTime();s.length>0&&(this.resyncText="syncing audio ".concat(s.join(", ")))}}},mounted:function(){var t=this;setInterval((function(){t.resyncAudioNodes(t)}),2e3)}},$=L,A=(s("2a27"),Object(f["a"])($,c,l,!1,null,null,null)),D=A.exports,j=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.inputtext,expression:"inputtext"}],staticClass:"form-control",attrs:{type:"text",id:"acinput",name:"acinput",placeholder:"Search",autocomplete:"off"},domProps:{value:t.inputtext},on:{keyup:function(e){return t.fetchData()},keydown:t.setFocus,focus:function(e){return t.inputFocus(!0)},blur:function(e){return t.inputFocus(!1)},input:function(e){e.target.composing||(t.inputtext=e.target.value)}}}),s("ResultList",{attrs:{fetchedData:t.acdata}})],1)},B=[],N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.fetchedData.length>0?s("div",{staticClass:"autocomplete__list"},[s("table",{staticClass:"list-group"},t._l(t.fetchedData,(function(e,a){return s("tr",{key:a,staticClass:"list-group-item",class:t.checkSelected(a),on:{mousemove:function(e){return t.mouseHover(a)},mousedown:function(e){return t.selectMe(a)}}},["track"===e.type?s("td",{domProps:{innerHTML:t._s(t.highlight(e.title))}}):t._e(),"session"===e.type?s("td",{domProps:{innerHTML:t._s(t.highlight(e.stemNames))}}):t._e(),s("td",[t._v("#"),s("strong",{staticClass:"view__highlight"},[t._v(t._s(e.sessionCounter))])]),s("td",[t._v(t._s(e.month)+" "+t._s(e.year))])])})),0)]):t._e()},R=[],F=(s("4d63"),s("25f0"),s("498a"),{name:"ResultList",props:["fetchedData"],mixins:[E],methods:{selectMe:function(t){this.$router.push(this.fetchedData[t].route),this.$store.dispatch("optionPicked",this.fetchedData[t].title),this.$store.dispatch("changeInput",""),this.$store.dispatch("resetData")},checkSelected:function(t){return{selected:t===this.$store.state.focusIndex}},mouseHover:function(t){this.$store.dispatch("setFocus",t)},highlight:function(t){var e=this.$store.getters.getSearchTerm;if("string"===typeof t)return this.emphasizeTextMarkup(t,e);var s,a=[],n=Object(P["a"])(t);try{for(n.s();!(s=n.n()).done;){var i=s.value;i.toLowerCase().indexOf(e.toLowerCase())>-1&&a.push(this.emphasizeTextMarkup(i,e))}}catch(r){n.e(r)}finally{n.f()}return[a.length>0?a:t].join(", ")},emphasizeTextMarkup:function(t,e){return""===t.trim()?"":t.replace(RegExp(this.regExpEscape(e.trim()),"gi"),"<mark>$&</mark>")}}}),q=F,z=(s("8fa5"),Object(f["a"])(q,N,R,!1,null,null,null)),H=z.exports,U={name:"SearchField",components:{ResultList:H},props:{minInput:Number},computed:{acdata:function(){return this.isFocus?this.$store.state.acData:[]},inputtext:{get:function(){return this.$store.state.inputData},set:function(t){this.$store.dispatch("changeInput",t)}},isFocus:function(){return this.$store.state.inputFocus}},data:function(){return{}},methods:{fetchData:function(t){this.inputtext.length>=this.minInput&&this.isFocus?this.$store.dispatch("searchData",this.inputtext):this.$store.dispatch("resetData")},setFocus:function(t){var e=t.keyCode,s=this.acdata.length;if(0!==s)switch(e){case 40:this.$store.dispatch("focusChange",1);break;case 38:this.$store.dispatch("focusChange",-1);break;case 13:this.$router.push(this.acdata[this.$store.state.focusIndex].route),this.$store.dispatch("optionPicked",this.acdata[this.$store.state.focusIndex]),this.$store.dispatch("changeInput",""),this.$store.dispatch("resetData"),t.target.blur();break;case 27:t.target.blur(),this.$store.dispatch("resetData");break}},inputFocus:function(t){this.$store.dispatch("inputFocus",t)}}},G=U,V=(s("abc9"),Object(f["a"])(G,j,B,!1,null,null,null)),W=V.exports,J={methods:{drawFavicon:function(){var t=document.createElement("canvas"),e=t.getContext("2d"),s=64,a=64,n="#000000",i="#FF5050",r="#EFFE4B",o="#00E5E5",c="#9932CC";t.setAttribute("width",s+"px"),t.setAttribute("height",a+"px"),e.fillStyle=n,e.fillRect(0,0,s,a);var l=.1*s,u=.9*s;e.beginPath(),e.strokeStyle=i,e.lineWidth=s/8,e.moveTo(l,.2*a),e.lineTo(u,.2*a),e.stroke(),e.beginPath(),e.strokeStyle=r,e.moveTo(l,.4*a),e.lineTo(u,.4*a),e.stroke(),e.beginPath(),e.strokeStyle=o,e.moveTo(l,.6*a),e.lineTo(u,.6*a),e.stroke(),e.beginPath(),e.strokeStyle=c,e.moveTo(l,.8*a),e.lineTo(u,.8*a),e.stroke(),this.canvasToFavicon(t)},canvasToFavicon:function(t){var e,s=document.head,a=function(){var t=document.createElement("link");return t.rel="icon",t.type="image/png",t},n=!!navigator.userAgent.match(/firefox/i);if(!e){for(var i=document.querySelectorAll('link[rel="icon"]'),r=0,o=i.length;r<o;r++)s.removeChild(i[r]);e=a(),s.appendChild(e)}if(n){var c=a();s.replaceChild(c,e),e=c}e.href=t.toDataURL("image/png")}}},Y={name:"Home",components:{PermaPlayer:D,SearchField:W},mixins:[J],computed:Object(r["a"])({},Object(o["b"])(["getStats","getAllSessions","getNextRandomTrackRoute"]),{stats:function(){return this.getStats}}),methods:{forcePlay:function(){this.$store.dispatch("loadPlayerTrack",this.getNextRandomTrackRoute.params)}},mounted:function(){this.drawFavicon()},watch:{$route:function(t,e){document.title=t.meta.title||"JAM player"}}},X=Y,K=(s("5c0b"),Object(f["a"])(X,n,i,!1,null,null,null)),Q=K.exports,Z=(s("d3b7"),s("8c4f")),tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main",{staticClass:"page__wrapper dashboard"},[t._m(0),s("div",{staticClass:"page__loader"},[s("Loader",{attrs:{percent:t.percent}}),s("h1",[t._v("jam")]),t._m(1),s("div",{staticClass:"msg__error"}),s("div",{staticClass:"msg__success"})],1)])},et=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",{staticClass:"page__header page__header--dashboard"},[s("h1",{staticClass:"page__title"},[s("span",{staticClass:"view__highlight"},[t._v("Dash")]),t._v("board")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h3",[t._v(" Experimental prototype"),s("br"),t._v("Don't expect anything to work"),s("br"),s("br"),s("span",{staticClass:"small"},[t._v("In case you encounter any bugs press reload [F5]")])])}],st=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{attrs:{width:"166",height:"166",xmlns:"http://www.w3.org/2000/svg"}},[s("circle",{attrs:{cx:"82",cy:"82",r:"82",stroke:"none",fill:"#020724"}}),s("circle",{staticClass:"path__progress",attrs:{cx:"-82",cy:"82",r:"80",fill:"none",stroke:"#60d4ff","stroke-width":"5","stroke-dasharray":t.dashArray,"stroke-dashoffset":t.dashOffset}}),s("g",{attrs:{transform:"translate(0.000000,82.000000) scale(0.100000,-0.100000)",stroke:"none"}},[s("path",{staticClass:"path__logo",staticStyle:{stroke:"none"},attrs:{d:"m898 408 l32 -5 0 -125 c0 -115 -1 -125 -17 -118 -35 14 -140 17 -176 6 -51 -17 -122 -84 -141 -133 -22 -54 -13 -109 25 -153 41 -46 76 -58 158 -53 82 4 135 35 186 107 l30 43 5 198 5 198 74 -49 c79 -52 179 -89 241 -89 46 0 59 -24 36 -68 -18 -34 -76 -87 -105 -97 -18 -5 -21 -14 -21 -69 0 -163 -92 -306 -243 -377 -119 -55 -240 -58 -370 -9 -75 28 -173 118 -215 197 -128 240 13 529 291 599 49 12 125 11 205 -3z"}})])])},at=[],nt={name:"Loader",props:{percent:Number},data:function(){return{dashArray:502.655}},computed:{dashOffset:function(){return this.dashArray-this.percent*(this.dashArray/100)}}},it=nt,rt=Object(f["a"])(it,st,at,!1,null,null,null),ot=rt.exports,ct={name:"Home",components:{Loader:ot},computed:Object(r["a"])({},Object(o["b"])(["getStats"]),{stats:function(){return this.getStats},percent:function(){return this.stats.loadedPercent}})},lt=ct,ut=(s("b985"),Object(f["a"])(lt,tt,et,!1,null,null,null)),dt=ut.exports,ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("router-view")},mt=[],ft={},pt=Object(f["a"])(ft,ht,mt,!1,null,null,null),_t=pt.exports,gt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main",{staticClass:"page__wrapper session session--list"},[s("header",{staticClass:"page__header page__header--allsessions"},[t._m(0),s("span",[t._v(t._s(t.getStats.totalSessions)+" Sessions")]),s("span",[t._v(t._s(t.getStats.totalTracks)+" Tracks")]),s("span",[t._v(t._s(t.toHours(t.getStats.totalDuration))+" h")])]),s("div",{staticClass:"sessionlist__wrapper"},[s("table",{staticClass:"session__list"},[s("tbody",[t._m(1),t._l(t.getAllSessions,(function(e,a){return s("tr",{key:a,on:{click:function(e){return t.forwardToSession(a)}}},[s("td",{staticClass:"session__date"},[s("DateSquare",{attrs:{day:e.day,month:e.month,year:e.year}})],1),s("td",{staticClass:"text--centered session__counter"},[s("h3",[s("span",{staticClass:"darker__text session__symbol"},[t._v("#")]),t._v(t._s(e.counter)+" ")])]),s("td",{staticClass:"text--centered"},[s("span",{staticClass:"darker__text"},[t._v(t._s(e.trackCount))])]),s("td",{staticClass:"text--centered"},[s("span",{staticClass:"darker__text"},[t._v(t._s(t.toMinutes(e.duration))+" min")])]),s("td",[s("MusiciansBadges",{attrs:{session:e}})],1),s("td",[e.images.length?s("div",[s("SvgPhoto",{attrs:{number:e.images.length}})],1):t._e()]),s("td",[s("RatingStars")],1)])}))],2)])])])},vt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h1",{staticClass:"page__title"},[s("span",{staticClass:"view__highlight"},[t._v("Se")]),t._v("ssions")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("th",{staticClass:"heading_date"},[t._v("Date")]),s("th",{staticClass:"heading__number text--centered"},[t._v("Session #")]),s("th",{staticClass:"heading__trackcount"},[t._v("Tracks")]),s("th",{staticClass:"heading__duration"},[t._v("Duration")]),s("th",{staticClass:"heading__jammers"},[t._v("Jammers")]),s("th",{staticClass:"heading__media"}),s("th",{staticClass:"heading__rating"},[t._v("Avarage Rating")])])}],kt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"rating__stars"},[s("nobr",[s("span",{staticClass:"rating__star"},[t._v("☆")]),s("span",{staticClass:"rating__star"},[t._v("☆")]),s("span",{staticClass:"rating__star"},[t._v("☆")]),s("span",{staticClass:"rating__star"},[t._v("☆")]),s("span",{staticClass:"rating__star"},[t._v("☆")]),s("span",{staticClass:"session__rating"},[t._v(" 0,0 ")])])],1)},yt=[],St={},Ct=Object(f["a"])(St,kt,yt,!1,null,null,null),bt=Ct.exports,xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("time",{staticClass:"session__date date"},[s("span",{staticClass:"date__year"},[t._v(t._s(t.year))]),s("span",{staticClass:"date__wrapper"},[s("span",{staticClass:"date__month"},[t._v(t._s(t.month))]),s("span",{staticClass:"date__day"},[t._v(t._s(t.day))])])])},wt=[],Pt={name:"DateSquare",props:{day:String,month:String,year:String}},It=Pt,Tt=Object(f["a"])(It,xt,wt,!1,null,null,null),Mt=Tt.exports,Ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"icon__numberedphoto"},[s("svg",{staticClass:"icon__photo",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20"}},[s("defs",[s("clipPath",{attrs:{id:"a"}},[s("path",{attrs:{d:"M13 11a3 3 0 1 0-3 3 3 3 0 0 0 3-3zm-3 5a5 5 0 1 1 5-5 5 5 0 0 1-5 5zM6.42 2.56l-.67.64a2 2 0 0 1-1.38.56H2a1.89 1.89 0 0 0-2 1.75v10.54a1.89 1.89 0 0 0 2 1.76h16a1.89 1.89 0 0 0 2-1.76V5.51a1.89 1.89 0 0 0-2-1.76h-2.37a2 2 0 0 1-1.38-.56l-.67-.64A2 2 0 0 0 12.2 2H7.8a2 2 0 0 0-1.38.56z","clip-rule":"evenodd"}})])]),s("path",{attrs:{"fill-rule":"evenodd",d:"M13 11a3 3 0 1 0-3 3 3 3 0 0 0 3-3zm-3 5a5 5 0 1 1 5-5 5 5 0 0 1-5 5zM6.42 2.56l-.67.64a2 2 0 0 1-1.38.56H2a1.89 1.89 0 0 0-2 1.75v10.54a1.89 1.89 0 0 0 2 1.76h16a1.89 1.89 0 0 0 2-1.76V5.51a1.89 1.89 0 0 0-2-1.76h-2.37a2 2 0 0 1-1.38-.56l-.67-.64A2 2 0 0 0 12.2 2H7.8a2 2 0 0 0-1.38.56z"}}),s("g",{attrs:{"clip-path":"url(#a)"}},[s("path",{attrs:{fill:"#0d1332",d:"M0 0h20v20H0z"}})])]),t.number?s("span",{class:"circled__number circled__number--"+t.digits},[s("span",[t._v(t._s(t.number))])]):t._e()])},Et=[],Lt={name:"SvgPhoto",data:function(){return{digits:0}},props:{number:Number},created:function(){this.digits=this.number.toString().length}},$t=Lt,At=(s("653c"),Object(f["a"])($t,Ot,Et,!1,null,null,null)),Dt=At.exports,jt={name:"SessionList",components:{MusiciansBadges:O,RatingStars:bt,DateSquare:Mt,SvgPhoto:Dt},mixins:[E],computed:Object(r["a"])({},Object(o["b"])(["getAllSessions","getStats"])),methods:{forwardToSession:function(t){this.$router.push({name:"SessionShow",params:{sessionIndex:t}})}}},Bt=jt,Nt=Object(f["a"])(Bt,gt,vt,!1,null,null,null),Rt=Nt.exports,Ft=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main",{staticClass:"page__wrapper session session--detail"},[t.session?s("SessionHeader",{attrs:{session:t.session}}):t._e(),s("div",{staticClass:"tracklist__wrapper"},[s("table",{staticClass:"track__list"},[s("tbody",[t._m(0),t._l(t.sessionTracks,(function(e,a){return s("tr",{key:a,on:{click:function(s){return t.forwardToTrack(e.trackLetter)}}},[s("td",{staticClass:"text--centered"},[s("span",{staticClass:"track__letter track__letter-circled"},[t._v(t._s(e.trackLetter))])]),s("td",{staticClass:"text--bold"},[t._v(" "+t._s(e.title)+" ")]),s("td",{staticClass:"text--centered"},[s("span",{staticClass:"bright"},[s("span",{staticClass:"bpm"},[t._v(t._s(e.bpm)+" "),s("span",{staticClass:"unit"},[t._v("bpm")])])])]),s("td",{staticClass:"text--centered"},[s("span",{staticClass:"bright"},[t._v(t._s(t.formatTime(e.duration))+" "),s("span",{staticClass:"unit"},[t._v("m")])])]),s("td",[s("MusiciansBadges",{attrs:{track:e}})],1),s("td",[s("RatingStars")],1)])}))],2)])])],1)},qt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("th",[t._v("#")]),s("th",[t._v("Title")]),s("th",[t._v("Bpm")]),s("th",[t._v("Duration")]),s("th",[t._v("Jammers")]),s("th",[t._v("Track Rating")])])}],zt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",{staticClass:"page__header page__header--session"},[s("h1",{staticClass:"page__title"},[s("router-link",{attrs:{to:{name:"SessionShow",params:{sessionIndex:t.session.index}}}},[s("span",{staticClass:"view__highlight"},[t._v("Se")]),t._v("ssion"),s("span",{staticClass:"view__highlight"},[t._v("#"+t._s(t.session.counter))])])],1),s("DateSquare",{attrs:{day:t.session.day,month:t.session.month,year:t.session.year}}),s("span",[t._v(t._s(t.session.trackCount)+" Tracks")]),s("span",[t._v(t._s(t.toMinutes(t.session.duration))+" min")]),t.session?s("GalleryInline",{attrs:{session:t.session}}):t._e()],1)},Ht=[],Ut=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.totalMediaItems>0?s("span",{staticClass:"gallery__inline",on:{click:t.showFirstMediaItem}},[s("SvgPhoto",{attrs:{number:t.totalMediaItems}}),s("div",{staticStyle:{display:"none"}},[s("SessionPics",{ref:"gallery",attrs:{session:t.session}})],1)],1):t._e()},Gt=[],Vt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.session?s("main",{staticClass:"page__wrapper session session--detail"},[s("header",{staticClass:"page__header page__header--pics"},[s("h1",{staticClass:"page__title"},[s("router-link",{attrs:{to:{name:"SessionShow",params:{sessionIndex:t.session.index}}}},[s("span",{staticClass:"view__highlight"},[t._v("Se")]),t._v("ssion"),s("span",{staticClass:"view__highlight"},[t._v("#"+t._s(t.session.counter))])]),t._v(" Pics ")],1),s("DateSquare",{attrs:{day:t.session.day,month:t.session.month,year:t.session.year}}),s("span",[t._v(t._s(t.session.trackCount)+" Tracks")]),s("span",[t._v(t._s(t.toMinutes(t.session.duration))+" min")])],1),s("router-link",{staticClass:"menu__link",attrs:{to:"/pics"}},[t._v("All pics")]),s("MusiciansBadges",{attrs:{session:t.session}}),s("div",{ref:"lightgallery",staticClass:"lightgallery"},[t._l(t.session.images,(function(e,a){return s("a",{key:"pic-"+t.session.counter+"-"+a,attrs:{href:e.filePath}},[s("img",{attrs:{src:e.thumbPath}})])})),t._l(t.session.videos,(function(e,a){return s("span",{key:"vid-"+t.session.counter+"-"+a,attrs:{"data-sub-html":"video caption1","data-html":"#vid-"+t.session.counter+"-"+a}},[s("img",{attrs:{src:e.thumbPath}}),s("div",{staticStyle:{display:"none"},attrs:{id:"vid-"+t.session.counter+"-"+a}},[s("video",{staticClass:"lg-video-object lg-html5",attrs:{controls:"",preload:"none"}},[s("source",{attrs:{src:e.filePath,type:"video/mp4"}}),t._v(" Your browser does not support HTML5 video. ")])])])}))],2)],1):t._e()},Wt=[],Jt=(s("4689"),s("caed"),s("f8aa"),s("e6f1"),s("5fcc"),s("255b"),s("7dbe"),{name:"SessionPics",components:{MusiciansBadges:O,DateSquare:Mt},mixins:[E],data:function(){return{session:""}},computed:Object(r["a"])({},Object(o["b"])(["getSessionByIndex"]),{sessionIndex:function(){return this.$route.params.sessionIndex}}),mounted:function(){var t=this;this.session=this.getSessionByIndex(this.sessionIndex),setTimeout((function(){window.lightGallery(t.$refs.lightgallery)}),0)},beforeDestroy:function(){"undefined"!==typeof this.$refs.lightgallery.destroy&&this.$refs.lightgallery.destroy()}}),Yt=Jt,Xt=Object(f["a"])(Yt,Vt,Wt,!1,null,null,null),Kt=Xt.exports,Qt={name:"GalleryInline",components:{SvgPhoto:Dt,SessionPics:Kt},props:{session:Object},computed:{totalMediaItems:function(){return this.session.images.length+this.session.videos.length}},methods:{showFirstMediaItem:function(){this.$refs.gallery.$refs.lightgallery.firstChild.click()}},watch:{session:function(){},totalMediaItems:function(){}}},Zt=Qt,te=Object(f["a"])(Zt,Ut,Gt,!1,null,null,null),ee=te.exports,se={name:"SessionHeader",components:{DateSquare:Mt,GalleryInline:ee},mixins:[E],props:{session:Object}},ae=se,ne=(s("17ba"),Object(f["a"])(ae,zt,Ht,!1,null,null,null)),ie=ne.exports,re={name:"SessionShow",components:{MusiciansBadges:O,RatingStars:bt,SessionHeader:ie},mixins:[E],data:function(){return{session:null}},computed:Object(r["a"])({},Object(o["b"])(["getSessionByIndex"]),{sessionIndex:function(){return this.$route.params.sessionIndex},sessionTracks:function(){return this.session?this.session.tracks:[]}}),mounted:function(){this.session=this.getSessionByIndex(this.sessionIndex)},methods:{loadTrack:function(t){return this.$store.dispatch("loadPlayerTrack",{sessionIndex:this.sessionIndex,trackIndex:t}),!1},forwardToTrack:function(t){this.$router.push({name:"TrackShow",params:{sessionIndex:this.sessionIndex,trackIndex:t}})}},watch:{"$route.params.sessionIndex":function(t){this.sessionIndex=t,this.session=this.getSessionByIndex(this.sessionIndex)},sessionTracks:function(){}},metaInfo:function(){return{title:"Tracklist #".concat(this.session.counter," (").concat(this.session.month," ").concat(this.session.year,")")}}},oe=re,ce=(s("2bcf"),Object(f["a"])(oe,Ft,qt,!1,null,null,null)),le=ce.exports,ue=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main",{staticClass:"pics__list"},[s("header",{staticClass:"page__header page__header--allsessions"},[t._m(0),s("span",[t._v(t._s(t.getStats.totalPics)+" Pics")]),s("span",[t._v(t._s(t.getStats.totalVideos)+" Videos")])]),s("div",{staticClass:"cards"},t._l(t.sessionsWithPics,(function(e,a){return s("div",{key:"pic-"+e.index+"-"+a,staticClass:"card"},[s("router-link",{attrs:{to:{name:"SessionPicsShow",params:{sessionIndex:e.index}}}},[s("img",{attrs:{src:t.randomItem(e.images.concat(e.videos)).thumbPath}}),s("div",{staticClass:"card__content"},[s("h2",[s("span",{staticClass:"darker__text session__symbol"},[t._v("#")]),t._v(t._s(e.counter))]),s("span",[t._v(t._s(t.amountAsText(e)))]),s("DateSquare",{attrs:{day:e.day,month:e.month,year:e.year}}),s("MusiciansBadges",{attrs:{session:e}})],1)])],1)})),0)])},de=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h1",{staticClass:"page__title"},[s("span",{staticClass:"view__highlight"},[t._v("Pi")]),t._v("cs & "),s("span",{staticClass:"view__highlight"},[t._v("Vi")]),t._v("deos")])}],he={name:"AllPics",components:{MusiciansBadges:O,DateSquare:Mt},computed:Object(r["a"])({},Object(o["b"])(["getAllSessions","getStats"]),{sessionsWithPics:function(){for(var t=[],e=0,s=Object.entries(this.getAllSessions);e<s.length;e++){var a=s[e];(a[1].images.length>0||a[1].videos.length>0)&&t.push(a[1])}return t}}),methods:{forwardToSessionPics:function(t){this.$router.push({name:"SessionPicsShow",params:{sessionIndex:t}})},randomItem:function(t){return t[Math.floor(Math.random()*t.length)]},amountAsText:function(t){var e=[];return t.images.length>0&&e.push(1===t.images.length?"1 Pic":"".concat(t.images.length," Pics")),t.videos.length>0&&e.push(1===t.videos.length?"1 Video":"".concat(t.videos.length," Videos")),e.join(", ")}}},me=he,fe=(s("89d6"),Object(f["a"])(me,ue,de,!1,null,null,null)),pe=fe.exports,_e=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.track?s("div",{staticClass:"dont__flex"},[s("SessionHeader",{attrs:{session:t.session}}),s("aside",{staticClass:"page__sidebar tracklist"},[s("h3",{staticClass:"tracklist__title"},[s("span",{staticClass:"session__nav",attrs:{title:"previous session"},on:{click:function(e){return t.replaceTrackList(!1)}}},[t._v("<")]),t._v(" Tracklist Session "),s("span",{staticClass:"session__symbol"},[t._v("#")]),s("span",{staticClass:"session__nr"},[t._v(t._s(t.formatSessionNumber(t.trackListSessionIndex)))]),s("span",{staticClass:"session__nav",attrs:{title:"next session"},on:{click:function(e){return t.replaceTrackList(!0)}}},[t._v(">")])]),s("ul",{staticClass:"tracklist__list"},t._l(t.trackListItems,(function(e,a){return s("li",{key:""+t.trackListSessionIndex+a,staticClass:"tracklist__item tracklist__item--acti__TODO-SET_ACTIVE__ve"},[s("router-link",{staticClass:"tracklist__link track",attrs:{to:{name:"TrackShow",params:{sessionIndex:t.trackListSessionIndex,trackIndex:a}}}},[s("span",{staticClass:"track_letter track__letter-circled"},[t._v(t._s(a))]),s("h4",{staticClass:"track__title"},[t._v(t._s(e.title))]),s("ul",{staticClass:"track__list"},[s("li",{staticClass:"track__detail"},[s("span",{staticClass:"track__duration"},[t._v(t._s(t.formatTime(e.duration)))]),s("span",{staticClass:"track__unit"},[t._v("m")])]),s("li",{staticClass:"track__detail"},[s("span",{staticClass:"track__bpm"},[s("span",{staticClass:"bpm"},[t._v(t._s(e.bpm)+" BPM")])])]),s("li",{staticClass:"track__detail"},[s("button",{staticClass:"rating__star button"},[t._v("★")]),s("span",{staticClass:"track__rating"},[t._v("0,0")])])])])],1)})),0)]),s("main",{staticClass:"page__wrapper track track--detail"},[s("header",{staticClass:"track__header"},[s("button",{staticClass:"track__play play",attrs:{title:"Play/pause Track"},on:{click:function(e){return t.loadTrack(t.trackIndex)}}},[s("SvgPlayPause",{attrs:{usePath:t.playOrPauseInverted}})],1),s("h2",{staticClass:"track__title"},[t._v(t._s(t.track.title))]),s("div",{staticClass:"track__detail"},[s("span",{staticClass:"track__bpm"},[t._v(t._s(t.track.bpm))]),s("span",{staticClass:"track__unit"},[t._v("bpm")])]),s("div",{staticClass:"track__detail track__times",attrs:{title:"click to toggle between relative/absolute time"}},[t.isNowPlaying?s("span",{staticClass:"track__current",attrs:{id:"time__elapsed"}},[t._v(t._s(t.currentProgressSecond)+" / ")]):t._e(),s("span",{staticClass:"track__duration",attrs:{id:"time__total"}},[t._v(t._s(t.formatTime(t.track.duration)))])]),t._m(0)]),s("ul",{staticClass:"track__tools tool tool--all"},[t.getAnyTrackSoloed?s("li",{staticClass:"tool__item"},[s("button",{staticClass:"tool__action tool__action--solo button",on:{click:t.unsoloAll}},[t._v("Unsolo All")])]):t._e(),t.getAnyTrackMuted?s("li",{staticClass:"tool__item"},[s("button",{staticClass:"tool__action tool__action--mute button",on:{click:t.unmuteAll}},[t._v("Unmute All")])]):t._e()]),s("ul",{staticClass:"track__lines"},[t.isNowPlaying?t._e():s("li",{staticClass:"overlayPlay",on:{click:function(e){return t.loadTrack(t.trackIndex)}}},[s("button",{staticClass:"track__play play",attrs:{title:"Play Track"}},[s("SvgPlayPause",{attrs:{usePath:"play"}})],1)]),t._l(t.track.stems,(function(e,a){return s("PlayerStemLine",{key:a,attrs:{stem:e,stemIndex:a,isNowPlaying:t.isNowPlaying}})}))],2)])],1):t._e()},ge=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"track__detail track__detail-rating"},[s("ul",{staticClass:"rating rating--4-5 rating--has-rated"},[s("li",{staticClass:"rating__range"},[s("button",{staticClass:"rating__star button"},[t._v("☆")])]),s("li",{staticClass:"rating__range"},[s("button",{staticClass:"rating__star button"},[t._v("☆")])]),s("li",{staticClass:"rating__range"},[s("button",{staticClass:"rating__star button"},[t._v("☆")])]),s("li",{staticClass:"rating__range"},[s("button",{staticClass:"rating__star button"},[t._v("☆")])]),s("li",{staticClass:"rating__range"},[s("button",{staticClass:"rating__star button"},[t._v("☆")])])]),s("span",{staticClass:"track__rating"},[t._v(" 0,0 ")]),s("span",{staticClass:"track__rate-cta"},[t._v("Rate now")])])}],ve=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{class:"track__line line line--color-"+t.stem.color+" "+t.inactiveLineClass},[s("div",{staticClass:"line__index tool__action--boost",attrs:{title:"click and hold to boost stem"},on:{mousedown:t.boostStart,mouseup:t.boostEnd}},[t._v(" #"+t._s(t.stemIndex+1)+" ")]),s("div",{staticClass:"line__wave",attrs:{id:"line__wave"+t.stemIndex}},[s("div",{ref:"waveform",staticClass:"waveform__wrapper"}),s("div",{staticClass:"seek__progress",style:t.progressPercent}),s("div",{ref:"seek",staticClass:"seek__clickarea",on:{click:t.seek}})]),s("div",{staticClass:"line__audio line__audio--left"}),s("div",{staticClass:"line__audio line__audio--right"}),s("div",{staticClass:"line__meta",attrs:{id:"line_meta0"}},[s("DbMeter",{attrs:{stemIndex:t.stemIndex,isNowPlaying:t.isNowPlaying}}),s("ul",{staticClass:"line__tools tool tool--line"},[s("li",{staticClass:"tool__item"},[s("button",{class:"tool__action tool__action--solo button "+t.soloButtonClass,on:{click:t.toggleSolo}},[s("abbr",{attrs:{title:"Toggle solo"}},[t._v("S")])])]),s("li",{staticClass:"tool__item"},[s("button",{class:"tool__action tool__action--mute button "+t.muteButtonClass,attrs:{id:"tool__action--mute0"},on:{click:t.toggleMute}},[s("abbr",{attrs:{title:"Toggle mute"}},[t._v("M")])])])]),s("div",{staticClass:"line__description"},[s("div",{staticClass:"line__artist artist"},[s("span",{staticClass:"artist__name",attrs:{title:t.stem.rawDataPath}},[t._v(t._s(t.stem.title))])]),s("div",{staticClass:"tool__item tool__item--volume"},[s("input",{ref:"volume",staticClass:"tool__action tool__action--volume",attrs:{type:"range",min:"0",max:"1",step:"0.01","data-target":"player0"},domProps:{value:t.volumeValue},on:{change:t.volChange,input:t.volChange}})])])],1)])},ke=[],ye={data:function(){return{wavPeaks:[],waveformSettings:{waveColor:"#FF9C01",barWidth:1,barGap:.2,mirrored:1,colors:{orange:"#FF9C01",green:"rgb(59,187,47)",red:"#FF5050",blue:"#5487F4",yellow:"#EFFE4B",pink:"#F8289E",cyan:"#00E5E5",violet:"#9932CC",lawngreen:"#7CFC00",darkgoldenrod:"#B8860B",grey:"#808080",teal:"#008080",firebrick:"#B22222",darkorange:"#FF8C00",darkblue:"#00008B",dodgerblue:"#1E90FF"}}}},methods:{drawWaveform:function(t,e,s){t.innerHTML="",this.waveformSettings.canvas=document.createElement("canvas"),this.waveformSettings.context=this.waveformSettings.canvas.getContext("2d"),this.waveformSettings.canvas.width=t.offsetWidth,this.waveformSettings.canvas.height=t.offsetHeight,this.waveformSettings.waveColor=s;var a=Math.floor(e.length/this.waveformSettings.canvas.width),n=this.getMaxVal(e);0===n&&(n=1);for(var i=0;i<this.waveformSettings.canvas.width;i+=this.waveformSettings.barWidth)this.drawBar(i,this.bufferMeasure(Math.floor(i*(e.length/this.waveformSettings.canvas.width)),a,e)*n/10*(this.waveformSettings.canvas.height/n)+1);t.appendChild(this.waveformSettings.canvas)},getMaxVal:function(t){for(var e=0,s=0;s<t.length;s++)e=t[s]>e?t[s]:e;return e},bufferMeasure:function(t,e,s){for(var a=0,n=t;n<=t+e-1;n++)a+=Math.pow(s[n],2);return Math.sqrt(a/s.length)},drawBar:function(t,e){this.waveformSettings.context.fillStyle=this.waveformSettings.waveColor;var s=this.waveformSettings.barWidth;0!==this.waveformSettings.barGap&&(s*=Math.abs(1-this.waveformSettings.barGap));var a=t+s/2,n=this.waveformSettings.canvas.height-e;1===this.waveformSettings.mirrored&&(n/=2),this.waveformSettings.context.fillRect(a,n,s,e)},triggerDrawWaveForm:function(){this.drawWaveform(this.$refs.waveform,this.stem.peaks,this.waveformSettings.colors[this.stem.color])}},mounted:function(){this.triggerDrawWaveForm()},updated:function(){this.triggerDrawWaveForm()}},Se=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dbmeter"},[s("div",{staticClass:"dbmeter__channel"},[s("div",{staticClass:"dbmeter__mask",style:"height: "+t.maskSizeLeft+"%;"})]),s("div",{staticClass:"dbmeter__channel"},[s("div",{staticClass:"dbmeter__mask",style:"height: "+t.maskSizeRight+"%;"})])])},Ce=[],be={name:"DbMeter",props:{stemIndex:Number,isNowPlaying:Boolean},data:function(){return{maskSizeLeft:100,maskSizeRight:100}},mounted:function(){var t=this;document.querySelector("#permaplayer").addEventListener("dbmeter".concat(this.stemIndex),(function(e){if(!1===t.isNowPlaying)return t.maskSizeLeft=100,void(t.maskSizeRight=100);t.maskSizeLeft=e.detail[0],t.maskSizeRight=e.detail[1]}),!1)}},xe=be,we=(s("f9c4"),Object(f["a"])(xe,Se,Ce,!1,null,null,null)),Pe=we.exports,Ie={name:"PlayerStemLine",mixins:[ye],components:{DbMeter:Pe},data:function(){return{meterCreated:!1}},props:{stemIndex:Number,stem:Object,isNowPlaying:Boolean},computed:Object(r["a"])({},Object(o["b"])(["getCurrentProgressPercent","getStemStateByIndex"]),{progressPercent:function(){return!1===this.isNowPlaying?"width: 0":"width: ".concat(this.getCurrentProgressPercent,"%")},volumeValue:function(){return!1===this.isNowPlaying?0:this.getStemStateByIndex(this.stemIndex).volLevel},soloButtonClass:function(){return!1===this.isNowPlaying?"":this.getStemStateByIndex(this.stemIndex).isSoloedGui?"active":""},muteButtonClass:function(){return!1===this.isNowPlaying?"":this.getStemStateByIndex(this.stemIndex).isMutedGui?"active":""},inactiveLineClass:function(){return!1===this.isNowPlaying?"":this.getStemStateByIndex(this.stemIndex).isInactiveTrackGui?"track__line--audio-muted":""}}),methods:{seek:function(t){var e=this.$refs.seek.getBoundingClientRect(),s=t.clientX-e.left,a=t.target.offsetWidth,n=s/(a/100);return this.commitIfPlaying(t,"requestSeek",n)},volChange:function(t){return this.commitIfPlaying(t,"requestVolumeChange",{stemIndex:this.stemIndex,value:t.target.value})},toggleSolo:function(t){return this.commitIfPlaying(t,"requestToggleSolo",this.stemIndex)},toggleMute:function(t){return this.commitIfPlaying(t,"requestToggleMute",this.stemIndex)},boostStart:function(t){return this.commitIfPlaying(t,"requestBoostStart",this.stemIndex)},boostEnd:function(t){return this.commitIfPlaying(t,"requestBoostEnd")},unmuteAll:function(t){return this.commitIfPlaying(t,"requestUnmuteAll")},unsoloAll:function(t){return this.commitIfPlaying(t,"requestUnsoloAll")},commitIfPlaying:function(t,e,s){return!1===this.isNowPlaying?(t.preventDefault(),!1):(this.$store.commit(e,s),!0)}},watch:{volumeValue:function(){},soloButtonClass:function(){},muteButtonClass:function(){},inactiveLineClass:function(){}}},Te=Ie,Me=Object(f["a"])(Te,ve,ke,!1,null,null,null),Oe=Me.exports,Ee={name:"TrackShow",components:{SvgPlayPause:_,PlayerStemLine:Oe,SessionHeader:ie},mixins:[E],data:function(){return{session:"",trackIndex:"",sessionIndex:"",trackListSessionIndex:"",trackListItems:[]}},computed:Object(r["a"])({},Object(o["b"])(["getSessionByIndex","getTrackByIndex","getLoadedTrackInfo","getCurrentProgressSecond","getIsPlaying","getPreviousSessionByIndex","getNextSessionByIndex","getAnyTrackSoloed","getAnyTrackMuted"]),{track:function(){return this.getTrackByIndex(this.sessionIndex,this.trackIndex)},isNowPlaying:function(){return this.getLoadedTrackInfo.sessionIndex===this.sessionIndex&&this.getLoadedTrackInfo.trackIndex===this.trackIndex},playOrPauseInverted:function(){return!1===this.isNowPlaying?"play":!0===this.getIsPlaying?"pause":"play"},currentProgressSecond:function(){return this.formatTime(this.getCurrentProgressSecond)}}),created:function(){this.sessionIndex=this.$route.params.sessionIndex,this.trackIndex=this.$route.params.trackIndex,this.session=this.getSessionByIndex(this.sessionIndex),this.trackListSessionIndex=this.$route.params.sessionIndex,this.trackListItems=this.session.tracks},methods:{loadTrack:function(t){!0!==this.isNowPlaying?(this.$store.dispatch("loadPlayerTrack",{sessionIndex:this.sessionIndex,trackIndex:t}),this.$store.dispatch("forcePermaPlay")):this.$store.dispatch("togglePermaPlayingState")},unsoloAll:function(){!1!==this.isNowPlaying&&this.$store.commit("requestUnsoloAll")},unmuteAll:function(){!1!==this.isNowPlaying&&this.$store.commit("requestUnmuteAll")},replaceTrackList:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this["get".concat(t?"Next":"Previous","SessionByIndex")](this.trackListSessionIndex);this.trackListSessionIndex=e.index,this.trackListItems=e.tracks}},watch:{"$route.params.sessionIndex":function(t){this.sessionIndex=t,this.session=this.getSessionByIndex(t),this.trackListSessionIndex=t,this.trackListItems=this.session.tracks},"$route.params.trackIndex":function(t){this.trackIndex=t},trackListItems:function(){},isNowPlaying:function(){},playOrPauseInverted:function(){},currentProgressSecond:function(){}},metaInfo:function(){return{title:"".concat(this.track.title,", #").concat(this.session.counter," (").concat(this.session.month," ").concat(this.session.year,")")}}},Le=Ee,$e=(s("e154"),Object(f["a"])(Le,_e,ge,!1,null,null,null)),Ae=$e.exports;a["a"].use(Z["a"]);var De=[{path:"/",name:"Dashboard",component:dt,meta:{title:"JAM"}},{path:"/sessions",component:_t,children:[{path:"",name:"SessionList",component:Rt,meta:{title:"session list"}},{path:":sessionIndex",name:"SessionShow",component:le,meta:{title:"session tracklist"}},{path:":sessionIndex/:trackIndex",name:"TrackShow",component:Ae,meta:{title:"track show"}}]},{path:"/pics",component:_t,children:[{path:"",name:"AllPics",component:pe,meta:{title:"all pics"}},{path:":sessionIndex",name:"SessionPicsShow",component:Kt,meta:{title:"session pics"}}]},{path:"/about",name:"About",component:function(){return s.e("about").then(s.bind(null,"f820"))}},{path:"/dbmeterhint",name:"DbMeterHint",component:function(){return s.e("dbmeterhint").then(s.bind(null,"c31b"))}}],je=new Z["a"]({routes:De}),Be=je,Ne=(s("4de4"),s("4160"),s("d81d"),s("fb6a"),s("b64b"),s("159b"),s("96cf"),s("3ca3"),s("ddb0"),s("1da1")),Re=function(t){function e(e){t.dispatch("setTracklistData",e),!1===a(e)&&console.log("config error")}function s(e){for(var s=0,a=0;a<e.length;a++)for(var n=0;n<e[a].tracks.length;n++)s++;t.commit("retrieveTrackCount",s)}function a(t){return n.apply(this,arguments)}function n(){return n=Object(Ne["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s(e),t.next=3,i(e);case 3:if(window.stemSessions){t.next=6;break}return console.log("config error"),t.abrupt("return",!1);case 6:if(1===Object.size(window.stemSessions)&&(window.currentView="trackList",window.currentSession=Object.keys(window.stemSessions)[0]),null!==window.currentSession||"trackList"!==window.currentView){t.next=10;break}return console.log("config error"),t.abrupt("return",!1);case 10:window.currentSession||(window.currentView="sessionList"),window.currentSession&&1===Object.size(window.stemSessions[window.currentSession].tracks)&&(window.currentView="singleTrack",window.currentTrack=Object.keys(window.stemSessions[window.currentSession].tracks)[0]);case 12:case"end":return t.stop()}}),t)}))),n.apply(this,arguments)}function i(t){return r.apply(this,arguments)}function r(){return r=Object(Ne["a"])(regeneratorRuntime.mark((function e(s){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=regeneratorRuntime.mark((function e(a){var n,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=s[a].sessionIndex,i=regeneratorRuntime.mark((function e(i){var r,l,u,d,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=s[a].tracks[i].trackIndex,l=["data",""],"sessionlist"!==window.hostLevel&&"tracklist"!==window.hostLevel||(l.unshift(s[a].tracks[i].trackDir),l.unshift("data")),"sessionlist"===window.hostLevel&&(l.unshift(s[a].sessionDir),l.unshift("data")),u=l.join("/"),d="cnf-"+n.replace(/[\W_]+/g,"_")+"-"+r,h={id:d,type:"text/javascript",src:u+"config.js"},t.commit("retrieveLoadAttempt"),e.next=10,Promise.all([o(u,h)]).then((function(){var e="sessionlist"===window.hostLevel?"data/"+s[a].sessionDir+"/":"";t.commit("retrieveSessionProperties",{sessionIndex:n,mediaPathPrefix:e}),t.commit("retrieveTrackproperties",{sessionIndex:n,trackIndex:r,trackDataPath:u}),c("#"+d)})).catch((function(){c("#"+d)}));case 10:case"end":return e.stop()}}),e)})),r=0;case 3:if(!(r<s[a].tracks.length)){e.next=8;break}return e.delegateYield(i(r),"t0",5);case 5:r++,e.next=3;break;case 8:case"end":return e.stop()}}),e)})),n=0;case 2:if(!(n<s.length)){e.next=7;break}return e.delegateYield(a(n),"t0",4);case 4:n++,e.next=2;break;case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)}))),r.apply(this,arguments)}function o(t,e){return new Promise((function(s,a){var n=document.createElement("script");for(var i in n.async=!0,e)n.setAttribute(i,e[i]);n.onload=function(){s(t)},n.onerror=function(){a(t)};try{document.body.appendChild(n)}catch(r){console.log(r)}}))}function c(t){var e=document.querySelector(t);e&&e.remove()}t.subscribe((function(t){"retrieveTracklist"===t.type&&e(t.payload)}))},Fe=Re,qe=function(t){function e(e,s,a){var n=window.stemSessions[e].tracks[s];n.stems.forEach((function(t,e){"undefined"===typeof n.stems[e].pathCorrectionDone&&"http"!==n.stems[e].filePath.substring(0,4)&&(n.stems[e].filePath=a+t.filePath,n.stems[e].pathCorrectionDone=!0)})),t.commit("addTrack",n)}function s(e,s){var a=window.stemSessions[e];if("undefined"===typeof a.mediaPathCorrectionDone){var n=a.images;n.forEach((function(t,e){a.images[e].filePath=s+t.filePath,a.mediaPathCorrectionDone=!0,a.images[e].thumbPath=s+t.thumbPath}));var i=a.videos;i.forEach((function(t,e){a.videos[e].filePath=s+t.filePath,a.mediaPathCorrectionDone=!0,a.videos[e].thumbPath=s+t.thumbPath,a.videos[e].stillPath=s+t.stillPath})),t.commit("addSession",a)}}t.subscribe((function(t){"retrieveSessionProperties"===t.type&&s(t.payload.sessionIndex,t.payload.mediaPathPrefix),"retrieveTrackproperties"===t.type&&e(t.payload.sessionIndex,t.payload.trackIndex,t.payload.trackDataPath)}))},ze=qe,He=function(t){function e(t,e,s){s["s".concat(t)].volLevelInternal!==e&&(s["s".concat(t)].volLevelInternal=e,u(s))}function s(t,e){e["s".concat(t)].isMutedInternal=!e["s".concat(t)].isMutedInternal,u(e)}function n(e,s){var a=s["s".concat(e)].isSoloedInternal;"single"===t.state.settings.soloMode&&(s=l(s,"isSoloedInternal",!1)),s["s".concat(e)].isSoloedInternal=!a,u(s)}function i(t,e){e=l(e,"isBoostedInternal",!1),e["s".concat(t)].isBoostedInternal=!0,u(e)}function r(t){t=l(t,"isBoostedInternal",!1),u(t)}function o(t){t=l(t,"isSoloedInternal",!1),u(t)}function c(t){t=l(t,"isMutedInternal",!1),u(t)}function l(t,e,s){for(var a in t)t[a][e]=s;return t}function u(e){for(var s in a["a"].set(t.state.permaPlayer,"anyTrackBoosted",!1),a["a"].set(t.state.permaPlayer,"anyTrackSoloed",!1),a["a"].set(t.state.permaPlayer,"anyTrackMuted",!1),e)e[s].isMutedGui=!1,e[s].isSoloedGui=!1,e[s].isInactiveTrackGui=!1,e[s].volLevel=e[s].volLevelInternal,e[s].isMutedAudio=!1,!0===e[s].isBoostedInternal&&a["a"].set(t.state.permaPlayer,"anyTrackBoosted",!0),!0===e[s].isSoloedInternal&&a["a"].set(t.state.permaPlayer,"anyTrackSoloed",!0),!0===e[s].isMutedInternal&&a["a"].set(t.state.permaPlayer,"anyTrackMuted",!0);if(!0!==t.state.permaPlayer.anyTrackBoosted)if(!0!==t.state.permaPlayer.anyTrackSoloed){if(!0===t.state.permaPlayer.anyTrackMuted)for(var n in e)!0===e[n].isMutedInternal&&(e[n].isMutedAudio=!0,e[n].isInactiveTrackGui=!0,e[n].isMutedGui=!0);a["a"].set(t.state.permaPlayer,"stemStates",e)}else{for(var i in e)!0!==e[i].isSoloedInternal?(e[i].isMutedAudio=!0,e[i].isInactiveTrackGui=!0):e[i].isSoloedGui=!0;a["a"].set(t.state.permaPlayer,"stemStates",e)}else{for(var r in e)!0!==e[r].isBoostedInternal?(e[r].volLevel=.2,e[r].isInactiveTrackGui=!0):e[r].volLevel=1;a["a"].set(t.state.permaPlayer,"stemStates",e)}}t.subscribe((function(a){var l=t.state.permaPlayer.stemStates;"requestToggleMute"===a.type&&s(a.payload,l),"requestVolumeChange"===a.type&&e(a.payload.stemIndex,a.payload.value,l),"requestToggleSolo"===a.type&&n(a.payload,l),"requestBoostStart"===a.type&&i(a.payload,l),"requestBoostEnd"===a.type&&r(l),"requestUnsoloAll"===a.type&&o(l),"requestUnmuteAll"===a.type&&c(l)}))},Ue=He;a["a"].use(o["a"]);var Ge=new o["a"].Store({state:{treeStructure:[],stemSessions:{},stats:{totalTrackConfigs:0,trackLoadAttempts:0,totalSessions:0,totalTracks:0,totalDuration:0,totalByteSize:0,totalPics:0,totalVideos:0,loadedPercent:0,showDbMeterHint:!1},currentTrack:{sessionIndex:"",trackIndex:""},permaPlayer:{track:{},duration:0,positionPercent:0,positionSecond:0,playing:!1,requestSeek:!1,anyTrackSoloed:!1,anyTrackMuted:!1,anyTrackBoosted:!1,stemStates:{}},settings:{soloMode:"single"},randomTracks:[],acData:[],inputData:"",focusIndex:"",inputFocus:!1,searchIndexWords:[],searchIndexResults:[]},mutations:{retrieveTracklist:function(){},retrieveTrackCount:function(t,e){t.stats.totalTrackConfigs=e},retrieveLoadAttempt:function(t){t.stats.trackLoadAttempts++,t.stats.loadedPercent=t.stats.trackLoadAttempts/(t.stats.totalTrackConfigs/100)},retrieveSessionProperties:function(t,e){},retrieveTrackproperties:function(t,e){},requestVolumeChange:function(t,e){},requestToggleMute:function(t,e){},requestToggleSolo:function(t,e){},requestBoostStart:function(t,e){},requestBoostEnd:function(t){},requestUnmuteAll:function(t){},requestUnsoloAll:function(t){},addSession:function(t,e){"undefined"===typeof t.stemSessions[e.index]&&("track"===window.hostLevel&&(e.images=[],e.videos=[]),e.duration=0,e.trackCount=0,a["a"].set(t.stemSessions,e.index,e),t.stats.totalSessions++,t.stats.totalPics+=e.images.length,t.stats.totalVideos+=e.videos.length)},addTrack:function(t,e){a["a"].set(t.stemSessions[e.session].tracks,e.trackLetter,e),t.stemSessions[e.session].duration+=e.duration,t.stemSessions[e.session].trackCount++,t.stats.totalTracks++,t.stats.totalDuration+=e.duration,t.stats.totalByteSize+=e.byteSize,this.dispatch("addTrackToSearchIndex",e),1===t.stats.totalTracks&&this.dispatch("initRandomTracks"),t.stats.totalTrackConfigs===t.stats.trackLoadAttempts&&(this.dispatch("initRandomTracks"),this.dispatch("buildMusicianSearchIndex"))},playerTimeUpdate:function(t,e){t.permaPlayer.positionSecond=e,t.permaPlayer.positionPercent=e/(t.permaPlayer.duration/100)},playerDurationUpdate:function(t,e){t.permaPlayer.duration=e},setShowDbMeterHint:function(t){t.stats.showDbMeterHint=!0},playerTrackEnded:function(t){this.dispatch("loadPlayerTrack",t.randomTracks[0].params)},requestSeek:function(t,e){a["a"].set(t.permaPlayer,"requestSeek",e*(t.permaPlayer.duration/100))},requestSeekFinished:function(t){a["a"].set(t.permaPlayer,"requestSeek",!1)},togglePermaPlayingStateMut:function(t){t.permaPlayer.playing=!t.permaPlayer.playing},CHANGE_ACLIST:function(t,e){t.acData=e},RESET_ACLIST:function(t){t.acData=[]},CHANGE_INPUT_DATA:function(t,e){t.inputData=e},SET_FOCUS:function(t,e){t.focusIndex=e},INCREMENT_DECREMENT_FOCUS:function(t,e){""===t.focusIndex?t.focusIndex=0:(t.focusIndex+=e,t.focusIndex<0?t.focusIndex=0:t.focusIndex>0&&t.focusIndex>t.acData.length-1&&(t.focusIndex=t.acData.length-1))},RESET_FOCUS:function(t){t.focusIndex=""},CHANGE_INPUT_FOCUS:function(t,e){t.inputFocus=e}},plugins:[Fe,ze,Ue],actions:{setTracklistData:function(t,e){this.state.treeStructure=e},loadPlayerTrack:function(t,e){this.state.currentTrack=e,this.state.permaPlayer={track:this.state.stemSessions[e.sessionIndex].tracks[e.trackIndex],duration:0,positionPercent:0,positionSecond:0,playing:!1,stemStates:{}},this.dispatch("setInitialStemStates"),this.dispatch("forcePermaPlay"),this.dispatch("moveTrackToEnd",e)},setInitialStemStates:function(t){var e={};t.state.permaPlayer.track.stems.forEach((function(t,s){e["s".concat(s)]={isMutedInternal:!1,isSoloedInternal:!1,isBoostedInternal:!1,volLevelInternal:t.volume,isMutedGui:!1,isSoloedGui:!1,isInactiveTrackGui:!1,isMutedAudio:!1,volLevel:t.volume}})),a["a"].set(t.state.permaPlayer,"stemStates",e)},togglePermaPlayingState:function(t){t.state.permaPlayer.playing=!t.state.permaPlayer.playing},forcePermaPlay:function(t){t.state.permaPlayer.playing=!0},initRandomTracks:function(t){for(var e=[],s=0,a=Object.keys(t.state.stemSessions);s<a.length;s++)for(var n=a[s],i=0,r=Object.keys(t.state.stemSessions[n].tracks);i<r.length;i++){var o=r[i];e.push({name:"TrackShow",params:{sessionIndex:n,trackIndex:o}})}var c=e.length;while(c>0){var l=Math.floor(Math.random()*c);c--;var u=e[c];e[c]=e[l],e[l]=u}t.state.randomTracks=e},moveTrackToEnd:function(t,e){var s,n=[],i=Object(P["a"])(t.state.randomTracks);try{for(i.s();!(s=i.n()).done;){var r=s.value;r.params.sessionIndex===e.sessionIndex?r.params.trackIndex!==e.trackIndex&&n.push(r):n.push(r)}}catch(o){i.e(o)}finally{i.f()}n.push({name:"TrackShow",params:e}),a["a"].set(t.state,"randomTracks",n)},addTrackToSearchIndex:function(t,e){t.state.searchIndexWords.push(e.title),t.state.searchIndexResults.push({type:"track",title:e.title,sessionCounter:t.state.stemSessions[e.session].counter,month:t.state.stemSessions[e.session].month,year:t.state.stemSessions[e.session].year,trackLetter:e.trackLetter,route:{name:"TrackShow",params:{sessionIndex:e.session,trackIndex:e.trackLetter}}})},buildMusicianSearchIndex:function(t){for(var e=0,s=Object.keys(t.state.stemSessions);e<s.length;e++){for(var a=s[e],n=[],i=0,r=Object.keys(t.state.stemSessions[a].tracks);i<r.length;i++){var o,c=r[i],l=Object(P["a"])(t.state.stemSessions[a].tracks[c].stems);try{for(l.s();!(o=l.n()).done;){var u=o.value;n.push(u.title)}}catch(d){l.e(d)}finally{l.f()}}t.state.searchIndexWords.push("".concat(a).concat(n.filter((function(t,e,s){return s.indexOf(t)===e})))),t.state.searchIndexResults.push({type:"session",title:"Session #".concat(t.state.stemSessions[a].counter),sessionCounter:t.state.stemSessions[a].counter,month:t.state.stemSessions[a].month,year:t.state.stemSessions[a].year,stemNames:n.filter((function(t,e,s){return s.indexOf(t)===e})),route:{name:"SessionShow",params:{sessionIndex:a}}})}},searchData:function(t,e){var s=this,a=t.commit,n=this.state.searchIndexWords.map((function(t,a){return t.toLowerCase().indexOf(e.toLowerCase())>-1?s.state.searchIndexResults[a]:void 0})).filter((function(t){return t})).slice(0,20);a("CHANGE_ACLIST",n),a("INCREMENT_DECREMENT_FOCUS",0)},optionPicked:function(t,e){var s=t.commit;s("CHANGE_INPUT_DATA",e),s("RESET_ACLIST")},resetData:function(t){var e=t.commit;e("RESET_ACLIST")},changeInput:function(t,e){var s=t.commit;s("CHANGE_INPUT_DATA",e)},focusChange:function(t,e){var s=t.commit;s("INCREMENT_DECREMENT_FOCUS",e)},setFocus:function(t,e){var s=t.commit;s("SET_FOCUS",e)},inputFocus:function(t,e){var s=t.commit;s("CHANGE_INPUT_FOCUS",e)}},getters:{getStats:function(t){return t.stats},getAllSessions:function(t){return t.stemSessions},getSessionByIndex:function(t){return function(e){return t.stemSessions[e]}},getStemStateByIndex:function(t){return function(e){return t.permaPlayer.stemStates["s".concat(e)]}},getCurrentTrack:function(t){return t.permaPlayer},getLoadedTrackInfo:function(t){return t.currentTrack},getCurrentProgressPercent:function(t){return t.permaPlayer.positionPercent},getCurrentProgressSecond:function(t){return t.permaPlayer.positionSecond},getDurationSecond:function(t){return t.permaPlayer.duration},getRequestSeek:function(t){return t.permaPlayer.requestSeek},getAnyTrackSoloed:function(t){return t.permaPlayer.anyTrackSoloed},getAnyTrackMuted:function(t){return t.permaPlayer.anyTrackMuted},getIsPlaying:function(t){return t.permaPlayer.playing},getNextRandomTrackRoute:function(t){return 0===t.randomTracks.length?{name:"Dashboard"}:t.randomTracks[0]},getTrackByIndex:function(t){return function(e,s){if("undefined"!==typeof t.stemSessions[e])return t.stemSessions[e].tracks[s]}},getSearchTerm:function(t){return t.inputData},getPreviousSessionByIndex:function(t){return function(e){for(var s=!1,a=0,n=Object.keys(t.stemSessions);a<n.length;a++){var i=n[a];if(!0===s)return t.stemSessions[i];e!==i||(s=!0)}return t.stemSessions[Object.keys(t.stemSessions)[0]]}},getNextSessionByIndex:function(t){return function(e){var s,a=!1,n=Object(P["a"])(Object.keys(t.stemSessions).reverse());try{for(n.s();!(s=n.n()).done;){var i=s.value;if(!0===a)return t.stemSessions[i];e!==i||(a=!0)}}catch(r){n.e(r)}finally{n.f()}return t.stemSessions[Object.keys(t.stemSessions).reverse()[0]]}}},modules:{}}),Ve=s("58ca");a["a"].use(Ve["a"]),a["a"].config.productionTip=!1,Object.size=function(t){var e,s=0;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&s++;return s},"file:"===document.location.protocol&&-1===document.location.hash.indexOf("forceMeter")&&Ge.commit("setShowDbMeterHint"),("file:"!==document.location.protocol||document.location.hash.indexOf("forceMeter")>-1)&&(window.audioCtx=new(window.AudioContext||window.webkitAudioContext),document.location.hash="");var We=document.createElement("script");We.setAttribute("src","./data/tracklist.js"),document.head.appendChild(We);var Je=0,Ye=!1;window.tracklist=[],window.stemSessions={},window.initialDataLoadInterval=window.setInterval((function(){if((Je>3||window.tracklist.length>0)&&(Ye=!0),Je++,!1!==Ye){clearInterval(window.initialDataLoadInterval),window.initialDataLoadInterval=void 0,We.parentNode.removeChild(We);try{Ge.commit("retrieveTracklist",window.tracklist)}catch(t){}new a["a"]({router:Be,store:Ge,render:function(t){return t(Q)}}).$mount("#app")}}),10)},"5c0b":function(t,e,s){"use strict";var a=s("9c0c"),n=s.n(a);n.a},"653c":function(t,e,s){"use strict";var a=s("87a4"),n=s.n(a);n.a},"7e32":function(t,e,s){},8130:function(t,e,s){},"82ee":function(t,e,s){},"87a4":function(t,e,s){},"89d6":function(t,e,s){"use strict";var a=s("945b"),n=s.n(a);n.a},"8fa5":function(t,e,s){"use strict";var a=s("a360"),n=s.n(a);n.a},"945b":function(t,e,s){},"9c0c":function(t,e,s){},"9d37":function(t,e,s){},a360:function(t,e,s){},abc9:function(t,e,s){"use strict";var a=s("49f1"),n=s.n(a);n.a},b985:function(t,e,s){"use strict";var a=s("de7f"),n=s.n(a);n.a},de7f:function(t,e,s){},e154:function(t,e,s){"use strict";var a=s("04fb"),n=s.n(a);n.a},e1f2:function(t,e,s){},f9c4:function(t,e,s){"use strict";var a=s("7e32"),n=s.n(a);n.a}});
//# sourceMappingURL=app.5e7e6d5e.js.map